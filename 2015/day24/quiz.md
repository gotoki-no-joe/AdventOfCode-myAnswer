# 24日目：バランスしてぶら下がっている #

クリスマスイブです、そしてサンタは今年の配達のためにそりに積み込んで​​います。
しかし、1つ小さな問題があります。
彼はそりのバランスをとることができません。
バランスが取れていなければ、彼は物理学に逆らうことはできず、
そして今年誰もプレゼントをもらうことができません。

緊迫感はありません。(?)

サンタはそりにうまく詰め込む必要のあるすべての包みの重量のリストをあなたに提供しました。
包みは、**まったく同じ重さの3つのグループ**に分割する必要があり、
すべての包みを収める必要があります。
最初のグループはそりの客室に行き、
2番目と3番目のグループは左右のコンテナに入ります。
3つのグループすべてがまったく同じ量の体重になったときにのみ、そりは飛ぶことができます。
物理学に反することには規則があります、わかりますね！

もちろん、それだけが問題ではありません。
最初のグループ、つまり客室内に移動するグループは、
サンタの足元に余裕を持たせるために、
**包みの数をできるだけ少なく**する必要があります。
すべてのグループの重量が同じであれば、
他の2つのグループにはいくつ包みが含まれていてもかまいません。

さらに、サンタは、
可能な限り少ないものが最初のグループになるように
包みを配置する方法が複数ある場合、
最初のグループが最小の**量子エンタングルメント**を持つ方法を選択して、
「複雑化」(complication, 量子の用語？) の可能性を減らすようにする必要があります。
包みのグループの量子エンタングルメントは、
それらの重みの積、
つまり、それらの重みを掛け合わせたときに得られる値です。
すべてのグループの重量が同じでかつ
最初のグループに含まれる可能性のあるパッケージの数が最も少ない
場合にのみ、量子エンタングルメントを考慮してください。

たとえば、1から5と7から11の重みを持つ10の包みがあるとします。
この状況に関して、
いくつかの一意な最初のグループ、その量子もつれ、
そして残りのパッケージを分割する方法は以下の通りです。

~~~
Group 1;             Group 2; Group 3
11 9       (QE= 99); 10 8 2;  7 5 4 3 1
10 9 1     (QE= 90); 11 7 2;  8 5 4 3
10 8 2     (QE=160); 11 9;    7 5 4 3 1
10 7 3     (QE=210); 11 9;    8 5 4 2 1
10 5 4 1   (QE=200); 11 9;    8 7 3 2
10 5 3 2   (QE=300); 11 9;    8 7 4 1
10 4 3 2 1 (QE=240); 11 9;    8 7 5
9 8 3      (QE=216); 11 7 2;  10 5 4 1
9 7 4      (QE=252); 11 8 1;  10 5 3 2
9 5 4 2    (QE=360); 11 8 1;  10 7 3
8 7 5      (QE=280); 11 9;    10 4 3 2 1
8 5 4 3    (QE=480); 11 9;    10 7 2 1
7 5 4 3 1  (QE=420); 11 9;    10 8 2
~~~

これらのうち、`10 9 1`が最も小さい量子エンタングルメント（90）を持っていますが、
2つの包みだけからなる構成`11 9`が、
客室内にあるときサンタに最も大きな足元の余裕を与えて勝ちます。
この状況では、理想的な配置に対する量子もつれは99です。
最初のグループに包みが2つしかない構成が2つあった場合は、
より小さな量子エンタングルメントを持つ構成が選択されます。

理想的な構成における包みの最初のグループの**量子エンタングルメント**はいくつですか？

# パート2 #

何か変です…そりはまだバランスが取れていません。

「ホーホーホー」サンタは自分自身に夢中になります。「トランクを忘れた。」

再びそりのバランスを取りますが、今回は、
包みを3つではなく4つのグループに分けます。
他の制約は依然として適用されます。

上記の包みの例を考えたときの、
いくつかの新しい一意な最初のグループ、
それらの量子エンタングルメント、
そして残りの包みを分割する方法の一つを示します。

~~~
11 4    (QE=44); 10 5;   9 3 2 1; 8 7
10 5    (QE=50); 11 4;   9 3 2 1; 8 7
9 5 1   (QE=45); 11 4;   10 3 2;  8 7
9 4 2   (QE=72); 11 3 1; 10 5;    8 7
9 3 2 1 (QE=54); 11 4;   10 5;    8 7
8 7     (QE=56); 11 4;   10 5;    9 3 2 1
~~~

このうち、そこに最初のグループに包みの最小の個数（2）を置く構成が3つあります。
`11 4`, `10 5`, `8 7`です。
これらの中で、`11 4`が量子エンタングルメントが最小なので、それが選択されます。

さて、
理想的な構成における包みの最初のグループの**量子エンタングルメント**はいくつですか？
