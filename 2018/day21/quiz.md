# 21 日目: 時間変換

あなたはもっと足下に気を配るべきでした。
新しい北極基地をふらぶらしていると、つまずいて非常に深い穴に落ちてしまいました！

冗談です。 あなたはまた時間を超えてしまいました。

現在のペースを維持していれば、次に装置が活動するまでに、時間的な異常はすべて解決されているはずです。
残りの人生を500年刻みで歴史を眺めて過ごすことにはほとんど興味がないため、現在に戻る方法を見つける必要があります。

少し調査した結果、装置の動作に関する2つの重要な事実がわかりました。

まず、この装置には常に500年間隔で過去に戻すように配線されていることを見つけました。これを変更するのはおそらく不可能です。

次に、タイムトラベルモジュールの**起動システム**（パズルの入力）を発見しました。今のところ、それは**停止することなく永遠に実行されている**ように見えます。

特定の瞬間に起動システムを**停止**させることができれば、デバイスをはるか昔に送り、**時間自体で**[整数アンダーフロー](https://cwe.mitre.org/data/definitions/191.html)を引き起こし、現在に戻ることができるかもしれません！
（訳注：でたらめな専門用語の使用なので、直訳になっていなくていいか。）
<!--
If you can cause the activation system to halt at a specific moment, maybe you can make the device send you so far back in time that you cause an integer underflow in time itself and wrap around back to your current time!
-->

装置は、マニュアルの[1章](../day16/quiz.md)および[2章](../day19/quiz.md)で説明されているようにプログラムを実行します。

あなたの目標は、プログラムがどのように動作するかを解明し、プログラムを停止させることです。制御できるのは**レジスタ0**のみです。他の全てのレジスタは通常どおり0で始まります。

タイムトラベルは危険な活動であるため、起動システムは、（`bani`命令による）**ビット単位のAND**が**数値**に対して演算を行うこと、入力を文字列として解釈するような演算を**しない**ことを検証するいくつかの命令から始まります。
テストが失敗すると、プログラムが通常どおり実行されるのではなく、テストを再実行する無限ループに入ります。
テストに合格すると、プログラムは続行し、**他の全てのビット演算** (`banr`, `bori`, `borr`) も入力を**数値**として解釈すると想定されます。
（明らかに、このシステムを作成した妖精たちは、スクリプト言語でこのシステムをエミュレートしようとしているときに誰かがバグを持ち込む心配をしています。）

**最も少ない数の命令を実行した後にプログラムを停止させる、レジスタ0の最小の非負整数値はいくつですか？**
（同じ命令を複数回実行したときは、複数の命令が実行されたとして数えます。）

# パート2

アンダーフロー悪用のタイミングウィンドウを決定するには、上限も必要です。

**最も多くの数の命令を実行した後にプログラムを停止させる、レジスタ0の最小の非負整数値はいくつですか？**
（プログラムは実際に停止する必要があります。永久に実行が続くときは停止とはみなされません。）
