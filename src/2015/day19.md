# 19日目：ルドルフのための薬

赤鼻のトナカイのルドルフは病気です！
彼の鼻はあまり明るく輝いていません、
そして彼は薬を必要としています。

赤鼻のトナカイ生物学は通常のトナカイ生物学と似ていません。
ルドルフは特製の薬を必要とするでしょう。
残念なことに、赤鼻のトナカイ化学も通常のトナカイ化学と似ていません。

北極には赤鼻のトナカイ核融合・核分裂プラントが装備されており、
必要なあらゆる赤鼻のトナカイ分子を構築することができます。
それはいくつかの入力分子から始めて、
それからそれが正しい分子を持つまでステップごとに1つの、
一連の**置換**をすることによって働きます。

ただし、この装置は使用する前に校正する必要があります。
校正は、与えられた出発点から1ステップで生成され得る分子の数を決定することで行います。

たとえば、以下の置換のみに対応した、ずっと単純な装置を想像してみてください。

~~~
H => HO
H => OH
O => HH
~~~

上記の置換が与えられ、`HOH`から始めると、
次のような分子が生成される可能性があります。

- `HOOH` （1番目の`H`に`H => HO`）
- `HOHO` （2番目の`H`に`H => HO`）
- `OHOH` （1番目の`H`に`H => OH`）
- `HOOH` （2番目の`H`に`H => OH`）
- `HHHH` （`O => HH`）

よって、上記の例では、`HOH`からの1回の置換の後に、
**4種類**の異なる分子があります。
（`HOOH`が2回出現するため5種類ではありません。）
サンタのお気に入りの分子`HOHOHO`は、
（`H`から6つ、`O`から3つの9個の置換を経て）
**7種類**の分子になることができます。

装置は周囲の文字を無視して置換します。
たとえば、文字列`H2O`が与えられると、遷移`H => OO`により`OO2O`となります。

あなたのパズル入力はすべての可能な置換について説明しています。
そして最下部に、あなたが装置を校正するのに必要な薬品分子があります。
薬品分子に1つの置換を行うことができるすべてのさまざまな方法の後に、
**何種類の異なる分子を作成することができますか？**

# パート2

これで装置は校正されたので、分子製造を始める準備が整いました。

分子製造は、常に単一の電子だけから始まります。
そして校正のときと同様に、一度にひとつの置換を適用します。

たとえば、次のような置換があるとします。

~~~
e => H
e => O
H => HO
H => OH
O => HH
~~~

`HOH`を作成したいならば、`e`から始め、次のように置換します。

- `e => O` これは`O`を得るため
- `O => HH` これは`HH`を得るため
- `H => OHH` （2番目の`H`に）これで`HOH`を得る

よって、**3ステップ**で`HOH`を作ることができます。
サンタの好きな分子`HOHOHO`は**6ステップ**で作ることができます。

薬を作るのにどれくらいかかりますか？
あなたのパズル入力にある
利用可能な**置換**と**薬の分子**を考えるとき、
`e`から薬の分子に行くための**最小のステップ数**はいくつですか？
