# 6日目：火災の危険性あり

あなたのご近所さんがホリデーハウスデコレーションコンテストであなたを
毎年敗北させ続けるので、
\\(1,000 \times 1,000\\) グリッドに 100万本のライトを配備することに決めました。

さらに、あなたは今年、特にいい子でいたので、
理想的な照明を表示する構成の手順書をサンタからメールで受け取りました。

グリッド内のライトは、各方向に0から999の番号が付けられます。
四隅のライトはそれぞれ座標`0,0`、`0,999`、`999,999`、`999,0`となります。
各指示は
`turn on`（点灯）、`turn off`（消灯）、`toggle`（反転）
のいずれかです。
指示には、座標の対によりその操作を行う範囲（境界を含む）が含まれます。
各座標対は、長方形の対向する角を表します。
よって例えば `0,0 through 2,2` という座標対は、\\(3 \times 3\\) の正方形の9つのライトを指します。
すべてのライトはオフで始まります。

今年あなたのご近所さんに打ち勝つためには、
サンタから送られた手順書に従って、
あなたのライトを設定しさえすればよいのです。

例えば：

- `turn on 0,0 through 999,999` は全てのライトをオンにします。
（元からオンのものはオンのままです）。
- `toggle 0,0 through 999,0` 第1行の1000個のライトを反転します。
オンになっていたものをオフにし、オフになっていたものをオンにします。
- `turn off 499,499 through 500,500` 中央の4つのライトをオフにします。
（元からオフのものはオフのままです。）

一通り指示書に従った後、**点灯しているライトはいくつですか？**

# パート2

勝利パターンを実装し終わったとき、サンタからのメッセージを
古代ノルディック小人語から翻訳するときに間違えていたことに気付きました。

あなたが購入したライトグリッドには、実際には個々の明るさコントロールがありました。
各ライトは0以上の明るさを持ちます。ライトはすべて明るさ0で始まります。

`turn on`というフレーズは実際には
あなたがそれらのライトの明るさを1増やすべきであることを意味します。

`turn off`というフレーズは実際には
あなたがライトの明るさを1下げる必要があることを意味します。
その最小値は零です。

`toggle`のフレーズは実際には
あなたがそれらのライトの明るさを2増やすべきであることを意味します。

サンタの指示に従った後に、すべてのライトの明るさを合わせた
**明るさの合計値**はいくつでしょう？

例えば：

- `turn on 0,0 through 0,0`は合計値を1増加させます。
- `toggle 0,0 through 999,999`は合計値を2000000増加させます。
