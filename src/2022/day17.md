# 17日目: 火砕流

あなたの携帯機器は、あなたとゾウのための洞窟からの別の出口を見つけました。
現在、地面はほぼ絶え間なく鳴り響いていますが、奇妙なバルブが時間を稼いでくれました。
とはいえ、この辺りは確実に空気の温度が高くなってきました。

トンネルは最終的に、非常に天井が高く、狭い空洞に通じていました。
大きく、奇妙な形をした岩が上から部屋に落ちてきます。きっとこの揺れのせいでしょう。
岩が次にどこに落ちるか分からないと、押しつぶされるかもしれません！

5種類の岩には次のような独特の形をしています。
`#`が岩で`.`は空間です。

```
####

.#.
###
.#.

..#
..#
###

#
#
#
#

##
##
```

岩は上に示した順序で落下します。最初に「ー」の形、次に「＋」の形、というように。
リストの最後に到達すると、同じ順序が繰り返されます。
「ー」の形1番目、6番目、11番目、16番目…に落ちてきます。

岩は回転しませんが、

壁自体から出てくる高温ガスの噴流によって押し出されます。クイック スキャンを行うと、岩が落下する際に高温ガスのジェットが岩に与える影響が明らかになります (パズル入力)。

たとえば、これが洞窟内のジェット パターンであるとします。

>>><<><>><<<>><>>><<<>>><<<><<<>><>><<>>
ジェット パターンで<は、左への>プッシュを意味し、右へのプッシュを意味します。上記のパターンは、ジェットが落下する岩を右、右、右、左、左、右、というように押すことを意味します。リストの最後に到達すると、それが繰り返されます。

背の高い垂直の部屋は、幅がちょうど7 単位です。各岩は、左端が左の壁から 2 ユニット離れており、下端が部屋で最も高い岩 (または、岩がない場合は床) の 3 ユニット上にあるように表示されます。

岩が現れた後、高温ガスの噴流によって1 単位 (噴流パターンの次の記号で示される方向)に押されてから、 1 単位下に落下することを交互に繰り返します。何らかの動きによって岩の一部が壁、床、または停止している岩に移動する場合、代わりに動きは発生しません。下向きの動きにより、落下する岩が床またはすでに落下している岩に移動した場合、落下する岩はその場所 (何かに着地した) で停止し、新しい岩がすぐに落下し始めます。

で落下する岩を で@、止まる岩を で描くと#、上記の例の噴流パターンは次のようになります。

The first rock begins falling:
|..@@@@.|
|.......|
|.......|
|.......|
+-------+

Jet of gas pushes rock right:
|...@@@@|
|.......|
|.......|
|.......|
+-------+

Rock falls 1 unit:
|...@@@@|
|.......|
|.......|
+-------+

Jet of gas pushes rock right, but nothing happens:
|...@@@@|
|.......|
|.......|
+-------+

Rock falls 1 unit:
|...@@@@|
|.......|
+-------+

Jet of gas pushes rock right, but nothing happens:
|...@@@@|
|.......|
+-------+

Rock falls 1 unit:
|...@@@@|
+-------+

Jet of gas pushes rock left:
|..@@@@.|
+-------+

Rock falls 1 unit, causing it to come to rest:
|..####.|
+-------+

A new rock begins falling:
|...@...|
|..@@@..|
|...@...|
|.......|
|.......|
|.......|
|..####.|
+-------+

Jet of gas pushes rock left:
|..@....|
|.@@@...|
|..@....|
|.......|
|.......|
|.......|
|..####.|
+-------+

Rock falls 1 unit:
|..@....|
|.@@@...|
|..@....|
|.......|
|.......|
|..####.|
+-------+

Jet of gas pushes rock right:
|...@...|
|..@@@..|
|...@...|
|.......|
|.......|
|..####.|
+-------+

Rock falls 1 unit:
|...@...|
|..@@@..|
|...@...|
|.......|
|..####.|
+-------+

Jet of gas pushes rock left:
|..@....|
|.@@@...|
|..@....|
|.......|
|..####.|
+-------+

Rock falls 1 unit:
|..@....|
|.@@@...|
|..@....|
|..####.|
+-------+

Jet of gas pushes rock right:
|...@...|
|..@@@..|
|...@...|
|..####.|
+-------+

Rock falls 1 unit, causing it to come to rest:
|...#...|
|..###..|
|...#...|
|..####.|
+-------+

A new rock begins falling:
|....@..|
|....@..|
|..@@@..|
|.......|
|.......|
|.......|
|...#...|
|..###..|
|...#...|
|..####.|
+-------+
次のいくつかの岩がそれぞれ落下し始める瞬間、次のように表示されます。

|..@....|
|..@....|
|..@....|
|..@....|
|.......|
|.......|
|.......|
|..#....|
|..#....|
|####...|
|..###..|
|...#...|
|..####.|
+-------+

|..@@...|
|..@@...|
|.......|
|.......|
|.......|
|....#..|
|..#.#..|
|..#.#..|
|#####..|
|..###..|
|...#...|
|..####.|
+-------+

|..@@@@.|
|.......|
|.......|
|.......|
|....##.|
|....##.|
|....#..|
|..#.#..|
|..#.#..|
|#####..|
|..###..|
|...#...|
|..####.|
+-------+

|...@...|
|..@@@..|
|...@...|
|.......|
|.......|
|.......|
|.####..|
|....##.|
|....##.|
|....#..|
|..#.#..|
|..#.#..|
|#####..|
|..###..|
|...#...|
|..####.|
+-------+

|....@..|
|....@..|
|..@@@..|
|.......|
|.......|
|.......|
|..#....|
|.###...|
|..#....|
|.####..|
|....##.|
|....##.|
|....#..|
|..#.#..|
|..#.#..|
|#####..|
|..###..|
|...#...|
|..####.|
+-------+

|..@....|
|..@....|
|..@....|
|..@....|
|.......|
|.......|
|.......|
|.....#.|
|.....#.|
|..####.|
|.###...|
|..#....|
|.####..|
|....##.|
|....##.|
|....#..|
|..#.#..|
|..#.#..|
|#####..|
|..###..|
|...#...|
|..####.|
+-------+

|..@@...|
|..@@...|
|.......|
|.......|
|.......|
|....#..|
|....#..|
|....##.|
|....##.|
|..####.|
|.###...|
|..#....|
|.####..|
|....##.|
|....##.|
|....#..|
|..#.#..|
|..#.#..|
|#####..|
|..###..|
|...#...|
|..####.|
+-------+

|..@@@@.|
|.......|
|.......|
|.......|
|....#..|
|....#..|
|....##.|
|##..##.|
|######.|
|.###...|
|..#....|
|.####..|
|....##.|
|....##.|
|....#..|
|..#.#..|
|..#.#..|
|#####..|
|..###..|
|...#...|
|..####.|
+-------+
ゾウにシミュレーションが正確であることを証明するために、ゾウは 2022 年の岩石が停止した後 (ただし、2023 番目の岩石が落下し始める前) にタワーの高さがどのくらいになるかを知りたがっています。この例では、岩の塔は3068単位の高さになります。

2022 年の岩石の落下が止まった後、岩の塔の高さは何単位になりますか?

あなたのパズルの答えは でした3235。

このパズルの前半が完成しました！1 つのゴールド スターを提供します: *

- - 二部 - -
ゾウはあなたのシミュレーションに感銘を受けません。1000000000000彼らは、岩が止まった後の塔の高さを知りたがっています! そうして初めて、彼らは洞窟を進むのに十分な自信を持てるようになります。

上記の例では、タワーの1514285714288高さは 1 ユニットです。

1000000000000岩が止まった後、塔はどのくらいの高さになりますか?

答え：
 

変更はありませんが、引き続きパズル入力を取得できます。

[共有することもできます】このパズル。