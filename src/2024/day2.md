# 2日目：赤鼻報告書

幸いなことに、歴史学者たちが最初に捜索したい場所は、主席歴史学者の研究室から歩いてそれほど遠くありません。

[赤鼻のトナカイ核融合/核分裂プラント](../2015/day19.md)には主任歴史学者の痕跡はないようですが、
そこの技術者たちはあなたを見るとすぐに駆け寄ってきます。
どうやら、彼らはルドルフが電子1個から分子合成によって救われた時のことを今でも話しているようです。

あなたは既にここにいるので、彼らはすぐに言葉を続けます。
赤鼻原子炉からのいくつかの異常なデータを分析することについ、あなたの助力が必要なようです。
<!-- 超訳 -->
あなたは歴史学者たちがあなたを待っているかどうかを確認するために振り返りましたが、
彼らは既にいくつかのグループに分かれて、今は施設の隅々を捜索しているようです。
あなたは異常なデータについて手伝うことを申し出ます。

通常とは異なるデータ（パズルの入力）は、1行に1つのレポートを含む多数のレポートで構成されています。
各レポートは、スペースで区切られたレベルと呼ばれる数値のリストです。次に例を示します：

```
7 6 4 2 1
1 2 7 8 9
9 7 6 2 1
1 3 2 4 5
8 6 4 4 1
1 3 6 7 9
```

この例のデータには、それぞれ5つのレベルを含む6つのレポートが含まれています。

技術者は、どのレポートが安全であるかを把握しようとしています。
赤鼻原子炉安全システムは、徐々に増加または徐々に減少するレベルしか許容しません。
したがって、次の両方に該当する場合にのみ、レポートは安全であると見なされます：

- レベルは全て増加しているか、すべて減少している
- 隣接するふたつのレベルは、少なくとも1、多くて3異なる

上の例で、これらの規則を確認することで、レポートが安全であるか安全でないかを判断できます：

- 7 6 4 2 1: レベルが全て1または2減少しているため**安全**です。
- 1 2 7 8 9: 2 7は5増加しているため**危険**です。
- 9 7 6 2 1: 6 2は4減少しているため**危険**です。
- 1 3 2 4 5: 1 3は増加していますが、3 2は減少しているため**危険**です。
- 8 6 4 4 1: 4 4は増加でも減少でもないため**危険**です。
- 1 3 6 7 9: レベルが全て1, 2, 3 のいずれかずつ増加しているため**安全**です。

したがって、この例では、2つのレポートが安全です。

技術者からの異常なデータを分析します。安全なレポートはいくつありますか？

# パート2

技術者たちは、異常沈静装置についてあなたに話すのを忘れていたことに気づくまで、安全なレポートの数が少ないことに驚いていました。

異常沈静装置は原子炉に搭載されたモジュールで、原子炉の安全システムは、
それがなければ安全なレポートとなる悪いレベルを一つだけ許容することができる。
それはまるで、悪いレベルは初めからなかったかのようにする！

以前と同じ規則が適用されますが、安全でないレポートからひとつのレベルを削除すると安全になる場合、レポートは安全と見なされる点だけが変わります。

上記の例のレポートの多くが安全になりました：

- 7 6 4 2 1: レベルを削除しなくても**安全**です。
- 1 2 7 8 9: どのレベルを削除しても**危険**なままです。
- 9 7 6 2 1: どのレベルを削除しても**危険**なままです。
- 1 3 2 4 5: 2番目のレベルの3を削除することで**安全**になります。
- 8 6 4 4 1: 3番目のレベルの4を削除することで**安全**になります。
- 1 3 6 7 9: レベルを削除しなくても**安全**です。

異常沈静装置のおかげで、実際には4つのレポートが安全です！

異常沈静装置が安全でないレポートからレベルをひとつが削除できる状況を扱うことで、分析を更新してください。
現在、安全なレポートはいくつありますか？
