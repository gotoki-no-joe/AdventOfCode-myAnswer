# 10日目: 歩いてゆこう

あなたたちは空に浮かぶ島にある[溶岩生産施設](../2023/day15.md)に到着します。
他の人たちが巨大な工業複合施設を探し始めると、あなたは小さな鼻が足にぶつかるのを感じ、
下を見るとヘルメットをかぶったトナカイを見つけました。

トナカイは「溶岩島ハイキングガイド」という題の本を持っています。
しかし、本を開くと、そのほとんどが溶岩によって焦げていることに気づきます！
あなたがどのように手助けできるか尋ねようとしたとき、
トナカイは周囲の地域の空白の[地形図](https://ja.wikipedia.org/wiki/%E5%9C%B0%E5%BD%A2%E5%9B%B3)（あなたのパズル入力）を持ってきて、興奮してあなたを見上げます。

おそらく、欠けているハイキングコースを書き込む手助けができるかもしれません。

地形図は、各位置の**標高**を`0`（最低）から`9`（最高）までのスケールで示しています。例えば：

```
0123
1234
8765
9876
```

焼かれていない本の切れ端に基づいて、良いハイキングコースとは**できるだけ長く**
**均一で徐々に上昇する傾斜を持つ**ものであると判断しました。
実践的な目的のために、**ハイキングコース**は高さ`0`から始まり高さ`9`で終わり、
各ステップで高さがちょうど1増加する任意の経路を意味します。
ハイキングコースには斜めの移動は許されず、地図の視点から見て上、下、左、右のみです。

地図から目を上げると、親切にもトナカイが地図にハイキングコースを更新するために必要な鉛筆、
マーカー、定規、コンパス、ステッカーなどの小さな山を作り始めたことに気づきます。

**登山口**とは、ひとつ以上のハイキングコースが始まる位置のことです。
ここではこれらの位置は常に高さ `0` になります。
ページの断片をさらに組み立てることで、登山口の**スコア**は、
その登山口からハイキングコースを通じて到達可能な高さ`9`の位置の個数であることがわかりました。
上の例では、左上隅にある唯一の登山口は、左下にある唯一の `9` に到達できるため、スコアは1です。

この登山口はスコア2です：

```
...0...
...1...
...2...
6543456
7.....7
8.....8
9.....9
```

（`.` で記された位置は、これらの例を簡略化するための通行不可のタイルです。
実際の地形図には現れません。）

この登山口のスコアは4です。
なぜなら、登山口のすぐ左にあるものを除いて、全ての9にハイキングコースで到達できるからです：

```
..90..9
...1.98
...2..7
6543456
765.987
876....
987....
```

この地形図には**ふたつ**の登山口があります。
最上部の登山口はスコア1、最下部の登山口はスコア2です：

```
10..9..
2...8..
3...7..
4567654
...8..3
...9..2
.....01
```

大きな例を示す：

```
89010123
78121874
87430965
96549874
45678903
32019012
01329801
10456732
```

この大きな例には9つの登山口があります。
登山口を読み取り順に考えて、それぞれのスコアは 5, 6, 5, 3, 1, 3, 5, 3, 5 です。
これらのスコアを合計すると、全ての登山口のスコアの合計は36になります。

トナカイは大はしゃぎで分度器を持ってきて、それを文具の山に加えます。
あなたの地形図上の全ての登山口のスコアの合計はいくつですか？

# パート2

トナカイは、ハイキングコースの地図を数分間見直した後、何かに気づき、
数分間姿を消し、最後にもう一枚の少し焦げた紙を持って戻ってきます。

その紙には、登山口を評価する第二の方法として**評価**が記載されています。
登山口の評価は、その登山口から始まる**異なるハイキングコースの個数**です。例えば：

```
.....0.
..4321.
..5..2.
..6543.
..7..4.
..8765.
..9....
```

上の地図には登山口がひとつあります。その評価は3です。
なぜなら、その位置から始まる異なるハイキングトレイルがちょうど3つあるからです：

```
.....0.   .....0.   .....0.
..4321.   .....1.   .....1.
..5....   .....2.   .....2.
..6....   ..6543.   .....3.
..7....   ..7....   .....4.
..8....   ..8....   ..8765.
..9....   ..9....   ..9....
```

評価13の登山口ひとつを持つ地図を示します：

```
..90..9
...1.98
...2..7
6543456
765.987
876....
987....
```

この地図には、評価227の単一の登山口があります。
（右端の`9`に向かう121の異なるハイキングコースと、下端の`9`に向かう106のコースがあります）：

```
012345
123456
234567
345678
4.6789
56789.
```

前に示した大きな例はこちらです：

```
89010123
78121874
87430965
96549874
45678903
32019012
01329801
10456732
```

登山口を読み取り順に考えて、それらの評価は 20, 24, 10, 4, 1, 4, 5, 8, 5です。
この大きな例の地形図における全ての登山口の評価の合計は81です。

どういうわけか分かりませんが、トナカイは爪楊枝と紙の切れ端で小さな旗を作り、
それを使ってあなたの地形図上の登山口に印をつけています。
全ての登山口の評価の合計はいくつですか？
