# 24日目：電磁堀 #

CPU自体は、底なしの穴に囲まれた大きな黒い建物です。
巨大な金属管が一定の間隔で建物の側面から外側に伸び、深淵に降りてきます。
渡る方法はありませんが、中に入る必要があります。

もちろん、近くに散らばっている磁気部品を使って橋を架ける以外に方法はありません。

部品にはそれぞれ、両端に1つずつ、合計2つのポートがあります。
ポートには様々に異なる種類があり、種類の一致するもののみが接続できます。
部品の在庫表をポートの種類の情報つきで取得します（パズル入力）。
各ポートは、使用するピンの数によって識別されます。
ピンが多いほど、橋の接続が強化されます。
例えば3/7という部品は、片側に3ピンのポートがあり、反対側に7ピンのポートがあります。

穴のこちら側は金属製で、0ピンの磁気ポートを接続するのに最適な面になっています。
このため、最初に使用するポートは0ピンである必要があります。
終了するポートの種類は問題にはなりません。
あなたの目標は、橋をできるだけ強くすることです。

橋の強度は、各部品のピン数の合計です。
たとえば、あなたの橋が0/3, 3/7, 7/4という部品から構成されている場合、あなたの橋は$0+3 + 3+7 + 7+4 = 24$の強さを持っています。

たとえば、次のコンポーネントがあるとします。

```
0/2
2/2
2/3
3/4
3/5
0/1
10/1
9/10
```

それらを使用すると、次の正しい橋を作成できます。

```
0/1
0/1--10/1
0/1--10/1--9/10
0/2
0/2--2/3
0/2--2/3--3/4
0/2--2/3--3/5
0/2--2/2
0/2--2/2--2/3
0/2--2/2--2/3--3/4
0/2--2/2--2/3--3/5
```

（`10/1`で示されているように、部品内のポートの順序は重要ではないことに注意してください。
ただし、部品の各ポートは1回しか使用できません。）

これらの橋のうち、最も強力なものは `0/1--10/1--9/10`で、これは$0+1 + 1+10 + 10+9 = 31$の強さを持っています。

入手可能なコンポーネントを使用して作成できる最強の橋の強度はどれだけですか？

# パート2 #

あなたが作った橋は長さが足りません。残りの距離をとび越えることもできません。

上の例では、最長の橋は2つあります。

```
0/2--2/2--2/3--3/4
0/2--2/2--2/3--3/5
```

3/5の部品を使うものの方が強いです。その強さは$0+2 + 2+2 + 2+3 + 3+5 = 19$です。

あなたが作ることができる最長の橋の強さは何ですか？
最長の橋を複数作成できる場合は、最も強い橋を選択してください。
