# 20日目：粒子の大群 #

突然、GPUがあなたに連絡してきて、助けを求めます。
誰かがあまりにも多くの粒子をシミュレートするように要求しましたが、現在のフレームレートで次のフレームをレンダリングするためにすべての粒子を時間内に完了させることができません。

GPUがバッファの内容（パズル入力）を転送してきました。
それは各粒子が順に（粒子0から始まり、粒子1、粒子2、以下同様です）リストになっています。
それぞれの粒子について、リストは粒子の位置 (p)、速度 (v)、及び加速度 (a) のX,Y,Z座標の成分を `<X,Y,Z>` の形式で提供しています。

ティックごとに、すべての粒子が同時に更新されます。
粒子のプロパティは、次の順序で更新されます。

- 加速度のX成分で速度のX成分を増やす。
- 加速度のY成分で速度のY成分を増やす。
- 加速度のZ成分で速度のZ成分を増やす。
- 速度のX成分で位置のX成分を増やす。
- 速度のY成分で位置のY成分を増やす。
- 速度のZ成分で位置のZ成分を増やす。

Zバッファリングを含む一見希薄な論理的根拠のため、GPUは、どの粒子が位置<0,0,0>に長期的に最も近いままであるかを知りたいと考えています。
マンハッタン距離を使用してこれを測定してください。
この場合それは単に粒子のX,Y,Z位置の絶対値の和です。

たとえば、2つの粒子だけがあり、どちらも完全にX軸上にあるとします（簡単にするため）。
粒子0と1の現在の状態を（この順序で）示し、隣に数直線上でのX位置を括弧で図にすると、次のようになります。

```
p=< 3,0,0>, v=< 2,0,0>, a=<-1,0,0>    -4 -3 -2 -1  0  1  2  3  4
p=< 4,0,0>, v=< 0,0,0>, a=<-2,0,0>                         (0)(1)

p=< 4,0,0>, v=< 1,0,0>, a=<-1,0,0>    -4 -3 -2 -1  0  1  2  3  4
p=< 2,0,0>, v=<-2,0,0>, a=<-2,0,0>                      (1)   (0)

p=< 4,0,0>, v=< 0,0,0>, a=<-1,0,0>    -4 -3 -2 -1  0  1  2  3  4
p=<-2,0,0>, v=<-4,0,0>, a=<-2,0,0>          (1)               (0)

p=< 3,0,0>, v=<-1,0,0>, a=<-1,0,0>    -4 -3 -2 -1  0  1  2  3  4
p=<-8,0,0>, v=<-6,0,0>, a=<-2,0,0>                         (0) 
```

この時点で、粒子1は粒子0よりも<0,0,0>に近くなることはなくなるため、長期的には、粒子0が最も近くに留まります。

どの粒子が長期的に位置<0,0,0>に最も近いままになりますか？

# パート2 #

問題をさらに単純化するために、GPUは衝突する粒子をすべて削除したいと考えています。
粒子の位置が完全に一致すると、粒子は衝突します。
粒子群は同時に更新されるため、3つ以上の粒子が同時に同じ場所で衝突する可能性があります。
粒子が衝突すると、それらは削除され、その時刻以降は他の粒子と衝突することはありません。

例えば：

```
p=<-6,0,0>, v=< 3,0,0>, a=< 0,0,0>    
p=<-4,0,0>, v=< 2,0,0>, a=< 0,0,0>    -6 -5 -4 -3 -2 -1  0  1  2  3
p=<-2,0,0>, v=< 1,0,0>, a=< 0,0,0>    (0)   (1)   (2)            (3)
p=< 3,0,0>, v=<-1,0,0>, a=< 0,0,0>

p=<-3,0,0>, v=< 3,0,0>, a=< 0,0,0>    
p=<-2,0,0>, v=< 2,0,0>, a=< 0,0,0>    -6 -5 -4 -3 -2 -1  0  1  2  3
p=<-1,0,0>, v=< 1,0,0>, a=< 0,0,0>             (0)(1)(2)      (3)   
p=< 2,0,0>, v=<-1,0,0>, a=< 0,0,0>

p=< 0,0,0>, v=< 3,0,0>, a=< 0,0,0>    
p=< 0,0,0>, v=< 2,0,0>, a=< 0,0,0>    -6 -5 -4 -3 -2 -1  0  1  2  3
p=< 0,0,0>, v=< 1,0,0>, a=< 0,0,0>                       X (3)      
p=< 1,0,0>, v=<-1,0,0>, a=< 0,0,0>

------destroyed by collision------    
------destroyed by collision------    -6 -5 -4 -3 -2 -1  0  1  2  3
------destroyed by collision------                      (3)         
p=< 0,0,0>, v=<-1,0,0>, a=< 0,0,0>
```

この例では、粒子0, 1, 2はXと印した時刻と場所で同時に破壊されています。
次の時刻に、粒子3は無傷で​​通過します。

すべての衝突が解決された後、いくつの粒子が残っていますか？
