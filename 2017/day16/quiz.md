# 16日目：順列遊歩道 #

あなたは非常に珍しい光景に出ました。
ここのプログラムのグループは
(踊っている)[https://www.youtube.com/watch?v=lyZQPjUT5B4&t=53]ようです。

`a`から`p`という名前の全部で16個のプログラムがいます。
彼らは一列に並んで始める。
`a`は位置0に立ち、`b`は位置1に立ち、以下同様に`p`が位置15まで続く。

プログラムの**ダンス**は一連の**ダンスの動き**で構成されています。

- **回転**(spin)　これは`sX`と書き、
`X`個のプログラムを後ろから前に移動させ、それ以外は自分の順番を維持します。
（例えば、`abcde`に対する`s3`は`cdeab`を作ります。）
- **交換**(exchange)　これは`xA/B`と書き、
位置`A`のプログラムと位置`B`のプログラムの場所を交換します。
- **相手:*(partner)　これは`pA/B`と書き、
名前`A`のプログラムと名前`B`のプログラムの場所を交換します。

たとえば、5つのプログラムだけが並んでいる場合（`abcde`）、
次のようなダンスをすることができます。

- `s1` サイズ1の回転：`eabcd`
- `x3/4` 最後の2つのプログラムを交換する：`eabdc`
- `pe/b` プログラムeとbを交換する：`baedc`

彼らのダンスを終えた後、プログラムは`baedc`の並び順になっています。

あなたはしばらくダンスを見て、
彼らのダンスの動きを記録します（あなたのパズル入力）。
ダンスの後、**プログラムはどのような順序で立っていますか？**

# パート2 #

ダンスの動きを感じ始めたので、**ダンス全体**に注意を向けます。

プログラム達は彼らの前のダンスで終わった位置を維持し、
彼らは何度も何度もそれを実行します。
最初のダンスを含み合計**10億**（1000000000）回。

上記の例では、2番目のダンスは`baedc`の順序で始まり、
同じダンスの動きを使用します。

- `s1` サイズの回転1：`cbaed`
- `x3/4` 最後の2つのプログラムを交換する：`cbade`
- `pe/b` プログラムeとbを交換する：`ceadb`

プログラムは彼らの10億回のダンスの後に**どのような順序で立っていますか？**
