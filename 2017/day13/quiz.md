# 13日目：パケットスキャナ #

あなたは広大な**ファイアウォール**を通過する必要があります。
ファイアウォールは複数の層で構成され、
各層には**セキュリティスキャナ**があり、各層を行き来します。
成功するには、あなたはスキャナに検出されてはいけません。

ファイアウォールをざっと調べることで、
各層の**深さ**とその中のスキャナのスキャン範囲を
記録することができました（あなたのパズル入力）。
その形式は`depth: range`です。
各層は正確に厚さ1です。
深さ0の層はファイアウォールのすぐ内側から始まります。
その直後に深さ1の層が始まります。

たとえば、次のように記録したとします。

~~
0: 3
1: 2
4: 4
6: 4
~~~

これは、ファイアウォールのすぐ内側に範囲3の層、
その直後に2番目の範囲2の層、
3番目の層は深さ4で始まり範囲4、
4番目の層は深さ6で始まり範囲4、
となっていることを意味します。
視覚的には次のようになります。

~~~
 0   1   2   3   4   5   6
[ ] [ ] ... ... [ ] ... [ ]
[ ] [ ]         [ ]     [ ]
[ ]             [ ]     [ ]
                [ ]     [ ]
~~~

各層内で、セキュリティスキャナはその範囲内で前後に移動します。
各セキュリティスキャナは上部から開始して下部に達するまで下降し、
次に上部に達するまで上昇して繰り返します。
セキュリティスキャナは1ステップ移動するのに**1ピコ秒**かかります。
スキャナを`S`と描画すると、最初の数ピコ秒は次のようになります。

~~~
0ピコ秒：
 0   1   2   3   4   5   6
[S] [S] ... ... [S] ... [S]
[ ] [ ]         [ ]     [ ]
[ ]             [ ]     [ ]
                [ ]     [ ]

1ピコ秒：
 0   1   2   3   4   5   6
[ ] [ ] ... ... [ ] ... [ ]
[S] [S]         [S]     [S]
[ ]             [ ]     [ ]
                [ ]     [ ]

2ピコ秒：
 0   1   2   3   4   5   6
[ ] [S] ... ... [ ] ... [ ]
[ ] [ ]         [ ]     [ ]
[S]             [S]     [S]
                [ ]     [ ]

3ピコ秒：
 0   1   2   3   4   5   6
[ ] [ ] ... ... [ ] ... [ ]
[S] [S]         [ ]     [ ]
[ ]             [ ]     [ ]
                [S]     [S]
~~~

あなたの計画は、ファイアウォールを通過しようとしているパケットに
ヒッチハイクすることです。
パケットは各層の最上部に沿って移動し、
**1ピコ秒ごとに1層ずつ**移動します。
1ピコ秒ごとに、パケットは1つの層を前方に移動し
（最初の移動で第0層に入ります）、
次にスキャナは1ステップ移動します。
**パケットが入っていくときに**層の一番上にスキャナがあると、
あなたは**捕まえられます**。
（あなたが層の最上部ににいる間にスキャナがそこへ移動した場合は、
あなたは捕まえられ**ません**。
あなたが去る前に、スキャナはあなたに気づく暇はありません。）
上記の構成でこれを行うとしたら、
あなたの現在の位置を丸括弧で印すると、
あなたのファイアウォールの通過は次のようになります。

~~~
初期状態：
 0   1   2   3   4   5   6
[S] [S] ... ... [S] ... [S]
[ ] [ ]         [ ]     [ ]
[ ]             [ ]     [ ]
                [ ]     [ ]

0ピコ秒：
 0   1   2   3   4   5   6
(S) [S] ... ... [S] ... [S]
[ ] [ ]         [ ]     [ ]
[ ]             [ ]     [ ]
                [ ]     [ ]

 0   1   2   3   4   5   6
( ) [ ] ... ... [ ] ... [ ]
[S] [S]         [S]     [S]
[ ]             [ ]     [ ]
                [ ]     [ ]


1ピコ秒：
 0   1   2   3   4   5   6
[ ] ( ) ... ... [ ] ... [ ]
[S] [S]         [S]     [S]
[ ]             [ ]     [ ]
                [ ]     [ ]

 0   1   2   3   4   5   6
[ ] (S) ... ... [ ] ... [ ]
[ ] [ ]         [ ]     [ ]
[S]             [S]     [S]
                [ ]     [ ]


2ピコ秒：
 0   1   2   3   4   5   6
[ ] [S] (.) ... [ ] ... [ ]
[ ] [ ]         [ ]     [ ]
[S]             [S]     [S]
                [ ]     [ ]

 0   1   2   3   4   5   6
[ ] [ ] (.) ... [ ] ... [ ]
[S] [S]         [ ]     [ ]
[ ]             [ ]     [ ]
                [S]     [S]


3ピコ秒：
 0   1   2   3   4   5   6
[ ] [ ] ... (.) [ ] ... [ ]
[S] [S]         [ ]     [ ]
[ ]             [ ]     [ ]
                [S]     [S]

 0   1   2   3   4   5   6
[S] [S] ... (.) [ ] ... [ ]
[ ] [ ]         [ ]     [ ]
[ ]             [S]     [S]
                [ ]     [ ]


4ピコ秒：
 0   1   2   3   4   5   6
[S] [S] ... ... ( ) ... [ ]
[ ] [ ]         [ ]     [ ]
[ ]             [S]     [S]
                [ ]     [ ]

 0   1   2   3   4   5   6
[ ] [ ] ... ... ( ) ... [ ]
[S] [S]         [S]     [S]
[ ]             [ ]     [ ]
                [ ]     [ ]


5ピコ秒：
 0   1   2   3   4   5   6
[ ] [ ] ... ... [ ] (.) [ ]
[S] [S]         [S]     [S]
[ ]             [ ]     [ ]
                [ ]     [ ]

 0   1   2   3   4   5   6
[ ] [S] ... ... [S] (.) [S]
[ ] [ ]         [ ]     [ ]
[S]             [ ]     [ ]
                [ ]     [ ]


6ピコ秒：
 0   1   2   3   4   5   6
[ ] [S] ... ... [S] ... (S)
[ ] [ ]         [ ]     [ ]
[S]             [ ]     [ ]
                [ ]     [ ]

 0   1   2   3   4   5   6
[ ] [ ] ... ... [ ] ... ( )
[S] [S]         [S]     [S]
[ ]             [ ]     [ ]
                [ ]     [ ]
~~~

この状況では、あなたは第0層と第6層で**捕まります**。
あなたのパケットが入ったその層の
スキャナが一番上にあったときに、
あなたのパケットがそこに入ったからです。
あなたが先にそこにいた層の一番上にスキャナが移動した場合の
第1層ではあなたは捕まり**ません。**

ある層において捕まる**深刻度**は
その**深さ**に**範囲**を乗じた値になります。
（捕まらない層は無視してください。）
旅行全体の深刻度はこれらの値の合計です。
上記の例では、旅行の深刻度は$0*3 + 6*4 = 24$です。

あなたが記録したファイアウォールの詳細を考えるとき、
あなたがすぐに出発するならば、
**あなたの旅行全体の深刻度はいくつですか？**

# パート2 #

今、あなたは捕まえられずにファイアウォールを通過する必要があります。

あなたはパケットの速度を制御することはできませんが、
ピコ秒単位で**遅れさせる**ことができます。
あなたの旅行を始める前にあなたがパケットをピコ秒遅らせるごとに、
すべてのセキュリティスキャナーは1ステップ動きます。
この間、あなたはファイアウォールの中にいません。
あなたがパケットを遅らせるのを止めるまで、あなたは第0層に入りません。

上の例では、10ピコ秒（時刻0～9ピコ秒の間）遅らせると、
捕まらなくなります。

~~~
遅延後の状態：
 0   1   2   3   4   5   6
[ ] [S] ... ... [ ] ... [ ]
[ ] [ ]         [ ]     [ ]
[S]             [S]     [S]
                [ ]     [ ]

10ピコ秒：
 0   1   2   3   4   5   6
( ) [S] ... ... [ ] ... [ ]
[ ] [ ]         [ ]     [ ]
[S]             [S]     [S]
                [ ]     [ ]

 0   1   2   3   4   5   6
( ) [ ] ... ... [ ] ... [ ]
[S] [S]         [S]     [S]
[ ]             [ ]     [ ]
                [ ]     [ ]


11ピコ秒：
 0   1   2   3   4   5   6
[ ] ( ) ... ... [ ] ... [ ]
[S] [S]         [S]     [S]
[ ]             [ ]     [ ]
                [ ]     [ ]

 0   1   2   3   4   5   6
[S] (S) ... ... [S] ... [S]
[ ] [ ]         [ ]     [ ]
[ ]             [ ]     [ ]
                [ ]     [ ]


12ピコ秒：
 0   1   2   3   4   5   6
[S] [S] (.) ... [S] ... [S]
[ ] [ ]         [ ]     [ ]
[ ]             [ ]     [ ]
                [ ]     [ ]

 0   1   2   3   4   5   6
[ ] [ ] (.) ... [ ] ... [ ]
[S] [S]         [S]     [S]
[ ]             [ ]     [ ]
                [ ]     [ ]


13ピコ秒：
 0   1   2   3   4   5   6
[ ] [ ] ... (.) [ ] ... [ ]
[S] [S]         [S]     [S]
[ ]             [ ]     [ ]
                [ ]     [ ]

 0   1   2   3   4   5   6
[ ] [S] ... (.) [ ] ... [ ]
[ ] [ ]         [ ]     [ ]
[S]             [S]     [S]
                [ ]     [ ]


14ピコ秒：
 0   1   2   3   4   5   6
[ ] [S] ... ... ( ) ... [ ]
[ ] [ ]         [ ]     [ ]
[S]             [S]     [S]
                [ ]     [ ]

 0   1   2   3   4   5   6
[ ] [ ] ... ... ( ) ... [ ]
[S] [S]         [ ]     [ ]
[ ]             [ ]     [ ]
                [S]     [S]


15ピコ秒：
 0   1   2   3   4   5   6
[ ] [ ] ... ... [ ] (.) [ ]
[S] [S]         [ ]     [ ]
[ ]             [ ]     [ ]
                [S]     [S]

 0   1   2   3   4   5   6
[S] [S] ... ... [ ] (.) [ ]
[ ] [ ]         [ ]     [ ]
[ ]             [S]     [S]
                [ ]     [ ]


16ピコ秒：
 0   1   2   3   4   5   6
[S] [S] ... ... [ ] ... ( )
[ ] [ ]         [ ]     [ ]
[ ]             [S]     [S]
                [ ]     [ ]

 0   1   2   3   4   5   6
[ ] [ ] ... ... [ ] ... ( )
[S] [S]         [S]     [S]
[ ]             [ ]     [ ]
                [ ]     [ ]
~~~

10ピコ秒より少ないすべての遅延であなたは捕まるので、
あなたが安全に通り抜けるためにあなたが遅らせる必要があるピコ秒の
最も少ない数は10です。

パケットが捕まえられずにファイアウォールを通過するために
遅らせるのに**必要なピコ秒の最小数はいくつですか？**
