# 16日目：ドラゴンチェックサム #

ネットワークのこの部分のスキャンは完了しましたが、あなたが居た痕跡が残っています。
一部のディスクをランダムに見えるデータで上書きして、あなたの足跡を覆い隠し、
それらのディスクの新しいチェックサムでローカルセキュリティシステムを更新する必要があります。

データが疑わしくないようにするには、とある性質が必要です。
純粋にランダムなデータは改ざんとして検出されます。
適切なランダムデータを生成するには、ドラゴン曲線の改変版を使用する必要があります。

適切な初期状態（パズル入力）から始めます。
次に、ディスクを埋めるのに十分なデータがまだない限り、次の手順を繰り返します。

- この時点で持っているデータを「a」と呼びます。
-「a」のコピーを作成します。このコピーを「b」と呼びます。
-「b」の文字の順序を逆にします。
-「b」の中の、すべての`0`の出現を`1`に、すべての`1`の出現を`0`に置き換えます。
- 結果のデータは「a」、次にひとつ`0`、そして「b」です。

たとえば、この手順を1ステップ行った後、

- `1`は`100`になります。
- `0`は`001`になります。
- `11111`は`11111000000`になります。
- `111100001010`は`1111000010100101011110000`になります。

目的のディスクを満たすのに十分なデータが得られるまで、この手順を繰り返します。

データが生成されたら、そのデータのチェックサムも作成する必要があります。
前の手順においてディスクに収まるよりも多くのデータを生成した場合でも、
ディスクに収まるデータについて**のみ**チェックサムを計算します。

あるデータのチェックサムは、入力データ内の文字の重なりのない各ペアを考えることで作られます。
2つの文字が一致する（`00`または`11`）場合、次のチェックサム文字は`1`です。
文字が一致しない（`01`または`10`）場合、次のチェックサム文字は`0`です。
これにより、元の文字列のちょうど半分の長さの新しい文字列が生成されます。
チェックサムの長さが**偶数**の場合は、長さが**奇数**のチェックサムになるまで
この処理を繰り返します。

たとえば、長さ12のディスクを埋めたいとし、
最終的に少なくとも長さ12の文字列を生成すると、
その最初の12文字は`110010110100`になります。
(訳注:初期状態が何のときに？？？)
チェックサムを生成するには：

- 各ペア `11`, `00`, `10`, `11`, `01`, `00`を考えます。
- これらは同じ、同じ、異なる、同じ、異なる、同じ、なので`110101`を生成します。
- 結果の文字列の長さ6は**偶数**であるため、この処理を繰り返します。
- ペアは`11`（同じ）、`01`（異なる）、`01`（異なる）です。
- これはチェックサム`100`を生成しその長さは**奇数**なので、終わります。
したがって、`110010110100`のチェックサムは`100`です。

これらのすべての手順を組み合わせて、初期状態`10000`を使用して長さ20のディスクを埋めたいとします。

- `10000`は短すぎるため、まず改変ドラゴン曲線を使用して長くします。
- 1ラウンド後、`10000011110`（11文字）になりますが、まだ短すぎます。
- 2ラウンドで`10000011110010000111110`（23文字）になり、これで十分です。
- 必要なのは20文字だけですが23文字あるので、最初の20文字を除くすべてを削除します。`10000011110010000111`
- 次に、チェックサムの計算を開始します。1ラウンド後`0111110101`、これの長さは10文字（偶数）なので、続行します。
- 2ラウンドの後、`01100`を得ます。これは長さ5文字（奇数）なので、完了しました。

したがって、この例では、正しいチェックサムは`01100`になります。

最初にあなたが埋める必要のあるディスクの長さは272です。
あなたのパズル入力の初期状態を使用して、正しいチェックサムは何ですか？

あなたのパズル入力は`00111101111101000`です。

# パート2 #

埋める必要のある2番目のディスクの長さは35651584です。
再びパズル入力の初期状態を使用して、このディスクの**正しいチェックサムは何ですか？**
