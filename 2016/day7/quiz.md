# 7日目：インターネットプロトコルバージョン7 #

イースターバニー司令部のLANを調べ回りながら、
あなたは**IPアドレス**
（もちろんIPv7です。*IPv6*はあまりにも制約が大きいので。）
のリストを収集します。
どのIPがTLS（トランスポート層スヌーピング）をサポートしているのかを
知りたいと考えています。

IPはAutonomous Bridge Bypass Annotation (**ABBA**)を持つときTLSをサポートします。
ABBAは任意の4文字の列で、2つの異なる文字のペアと、
そのペアの逆のものからなるものです。
例えば`xyyx`や`abba`が該当します。
しかしながら、TLSをサポートするIPは、
大括弧で囲まれたハイパーネットシーケンス内にABBAを持っていてはいけません。

例えば：

- `abba[mnop]qrst` は（`abba`は角括弧の外側にあるため）TLSをサポートしています。
- `abcd[bddb]xyyx` はTLSをサポートしていません。
（`bddb`が角括弧の内側にあるため、`xyyx`が外側にあってもだめです。）
- `aaaa[qwer]tyui{ TLS はサポートしていません。
（`aaaa`は無効です。内部の文字は異なる必要があります。）
- `ioxxoj[asdfgh]zxcvbn` TLSをサポートしています。
（`oxxo`は角括弧の外側にあります。それはより長い文字列の一部でかまいません。）

あなたのパズルの入力で**いくつのIP**がTLSをサポートしていますか？

# パート2 #

どのIPが**SSL**（super-secret listening : 超秘密リスニング）
をサポートしているかも知りたいです。

IPがSSLをサポートする条件は、
スーパーネットシーケンス（角括弧で囲まれた部分の外側）内の任意の場所に
Area-Broadcast Accessor (ABA) を持つときで、
ハイパーネットシーケンスの任意の場所に
ABAに対応するバイト割り当てブロック (BAB)を持つことです。
ABAとは同じ文字を2回、間に異なる文字をはさんで構成した3文字のシーケンスのことです。
`xyx`や`aba`がそれに該当します。
対応する`BAB`はそれと同じ文字が逆の位置にあるものです。
それぞれ`yxy`と`bab`が該当します。

例えば：

- `aba[bab]xyz` はSSLをサポートしています。
（角括弧の外側に`aba`があり、対応する`bab`が角括弧で囲まれています。）
- `xyx[xyx]xyx` はSSLをサポートしていません。
（`xyx`はありますが、対応する`yxy`がありません。）
- `aaa[kek]eke` はSSLをサポートしています。
（`eke`がスーパーネットにあり、対応する`kek`がハイパーネットにあります。
内側の文字は外側と異なる必要があるため、
`aaa`の列は関係ありません。）
- `zazbz[bzb]cdb` はSSLをサポートしています。
（`zaz`は対応する`aza`を持たないが、
`zbz`は対応する`bzb`を持つ。`zaz`と`zbz`に重なりがあることは問題でない。）

あなたのパズル入力で**いくつのIP**がSSLをサポートしていますか？
