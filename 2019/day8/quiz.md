# 8日目：宇宙画像フォーマット #

妖精のスピリットは、あなたが火星探査車の1つを再起動する機会があることに気づいたときにliftされます。
したがって、あなたがいかに火星に短時間滞在するかをしきりに気にしています。
探査車の近くに船を着陸させます。

探査車に到達すると、それがすでに再起動のプロセスにあることがわかります！
誰かが**BIOS**パスワードを入力するのを待っています。
探査車を担当する妖精はパスワードの写真（パズル入力）を撮り、デジタル送信ネットワーク経由で送信します。

残念ながら、デジタル送信ネットワーク経由で送信された画像は、通常の形式でエンコードされていません。
代わりに、特別な宇宙画像フォーマットでエンコードされています。
妖精は誰もなぜそうなのかを覚えていないようです。
彼らはあなたにそれを解読する指示を送ります。

画像は、それぞれが単一のピクセルの色を表す数字の列として送信されます。
数字は画像の各行を左から右に埋め、次に下の行に移動し、
画像のすべてのピクセルが満たされるまで上から下に行を埋めます。

各画像は実際には、この方法で塗りつぶされた一連の同じ大きさの**レイヤー**で構成されています。
したがって、最初の数字は最初のレイヤーの左上のピクセルに対応し、
2番目の数字は同じレイヤーの右隣のピクセルに対応し、
最後のレイヤーの右下のピクセルに対応する最後の数字まで続きます。
(コメント：ちょっと説明端折りすぎでないか。)

たとえば、幅3ピクセル高さ2ピクセルの画像が与えられたとき、
画像データ`123456789012`は次の2つの画像レイヤーに対応します。

```
Layer 1: 123
         456

Layer 2: 789
         012
```

あなたが受け取った画像は、**幅25ピクセル高さ6ピクセル**です。

伝送中に画像が破損していないことを確認するために、
妖精はあなたに**数字0が最も少ないレイヤー**を見つけて欲しいと考えています。
そのレイヤーにある、**数字1の個数に数字2の個数を掛けた結果はいくつですか？**

# パート2 #

これで画像をデコードする準備ができました。
画像は、レイヤーを重ねてし、各レイヤーの同じ位置のピクセルを揃えることでレンダリングされます。
数字は対応するピクセルの色を示します。`0`は黒、`1`は白、`2`は透明です。

レイヤーは、最初のレイヤーが前面に、最後のレイヤーが背面にレンダリングされます。
そのため、あるの位置の第1層と第2層に透明ピクセル、第3層に黒ピクセル、第4層に白ピクセルがある場合、
最終画像のその位置には**黒**ピクセルが含まれます。

例えば、幅2ピクセル高さ2ピクセルの画像が与えられたとき、
画像データ`0222112222120000`は次の画像レイヤーに対応します。

```
Layer 1: 02
         22

Layer 2: 11
         22

Layer 3: 22
         12

Layer 4: 00
         00
```

次に、各位置の一番上の可視ピクセルを決定することにより、完全な画像を得ることができます。

- 左上のピクセルは、最上のレイヤーが`0`であるため黒です。
- 右上のピクセルは最上のレイヤーが`2`（透明）で2番目のレイヤーが`1`であるため**白**です。
- 左下のピクセルは上2つのレイヤーは`2`で3番目のレイヤーは`1`であるため**白**です。
- 右下のピクセルは黒です。なぜなら、
その位置にある可視なピクセルは（レイヤー4の）`0`だけだからです。

したがって、最終的なイメージは次のようになります。

```
01
10
```

**画像をデコードした後にどのようなメッセージが生成されますか？**
