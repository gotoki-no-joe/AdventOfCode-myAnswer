# 3日目：交差する電線 #

フライバイは成功し、金星給油所に向かう途中です。
急いで地球に戻ったとき、燃料管理システムは完全にはインストールされていなかったので、
それが優先順位リストの次の項目です。

フロントパネルを開くと、ごちゃごちゃしたワイヤーが見えます。
具体的には、*2本のワイヤ*が中央の端子に接続され、グリッド上で外側に延びています。
あなたは各ワイヤが中央ポートから出発して通る経路を辿ります。
テキストの1行に1本のワイヤです（パズル入力）。

ワイヤーはねじれたり曲がったりしますが、2本のワイヤーが時々経路が交差します。
回路を修正するには、*中央端子に最も近い交差点を見つける*必要があります。
ワイヤはグリッド上にあるため、この測定には**マンハッタン距離**を使用します。
ワイヤは、技術的には両方が開始する中央端子で交差しますが、この点は数に入れません。
また、ワイヤがそれ自体と交差しても関係ありません。

例えば、1本めワイヤーの経路が`R8,U5,L5,D3`の場合、
中央端子(o)から始まり、右に8、上に5、左に5、最後に下に3移動します。

```
...........
...........
...........
....+----+.
....|....|.
....|....|.
....|....|.
.........|.
.o-------+.
...........
```

次に、2本めのワイヤーの経路が`U7,R6,D4,L4`の場合、上に7、右に6、下に4、左に4移動します。

```
...........
.+-----+...
.|.....|...
.|..+--X-+.
.|..|..|.|.
.|.-X--+.|.
.|..|....|.
.|.......|.
.o-------+.
...........
```

これらのワイヤは（Xで印した）2つの位置で交差しますが、
左下がは中央の端子により近く、距離は3 + 3 = 6です。

以下にいくつか例を示します。

- `R75,D30,R83,U83,L12,D49,R71,U7,L72`
`U62,R66,U55,R34,D71,R55,D58,R83` = 距離 159
- `R98,U47,R26,D63,R33,U87,L62,D20,R33,U53,R51`
`U98,R91,D20,R16,D67,R40,U7,R15,U6,R7` = 距離 135

中央端子から最も近い交差点までの*マンハッタン距離はどれだけですか？*

# パート2 #

この回路は非常にタイミングに敏感であることがわかりました。
実際に*信号遅延を最小限に抑える*必要があります。

これを行うには、各ワイヤが各交差点に到達するまでの*ステップ数*を計算します。
*両方のワイヤのステップ数の合計*が最小になる交差点を選択します。
ワイヤが格子点上の位置に複数回アクセスする場合、
あるの交差点の合計値を計算するときに、
その位置に最初にアクセスしたときのステップ数を使用します。

ワイヤーがとるステップの数は、考慮される交差点を含め、
ワイヤーがその場所に到達するために入力したグリッドの正方形の総数です。
もう一度上記の例を考えてみましょう。

```
...........
.+-----+...
.|.....|...
.|..+--X-+.
.|..|..|.|.
.|.-X--+.|.
.|..|....|.
.|.......|.
.o-------+.
...........
```

上記の例では、中央端子に最も近い交差点に、
1本めのワイヤーは8+5+5+2 = 20ステップ、
2本めのワイヤーは7+6+4+3 = 20ステップの合計20+20 = 40ステップで到達します。

しかし、右上の交差点の方かよりよいです。
1本めのワイヤーは8+5+2 = 15ステップかかり、
2本めのワイヤーは7+6+2 = 15ステップかかり、合計15+15 = 30ステップです。

上記の追加例の最良の手順は次のとおりです。

- `R75,D30,R83,U83,L12,D49,R71,U7,L72`
`U62,R66,U55,R34,D71,R55,D58,R83`= 610ステップ
- `R98,U47,R26,D63,R33,U87,L62,D20,R33,U53,R51`
`U98,R91,D20,R16,D67,R40,U7,R15,U6,R7`= 410ステップ

*交差点に到達するためにワイヤーがとる必要のある最も少ない合計ステップ数はいくつですか？*

## コメント ##

自分に交差しているときにショートカットするようにもよめるが、
あとワイヤの向きもそこでなくなる気がするが、
どう考えたらよいのかしら。

簡単に考えればよかった。逆流とかもなかった。
