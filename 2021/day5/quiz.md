# 5日目：熱水噴出孔 #
(ventureのダジャレは無視)

あなたは海底の熱水噴出孔のある領域に迷い込みました！
これらの噴出孔は大きく不透明な雲を絶えず生成するため、可能であればそれらを避けるのが最善です。

それらは**直線状**をなす傾向があります。
潜水艦は、調査用に近くにある噴出孔の線のリスト（パズル入力）を作成しました。
例えば：

```
0,9 -> 5,9
8,0 -> 0,8
9,4 -> 3,4
2,2 -> 2,1
7,0 -> 7,4
6,4 -> 2,0
0,9 -> 2,9
3,4 -> 1,4
0,0 -> 8,8
5,5 -> 8,2
```

それぞれの噴出孔の線は、 `x1,y1 -> x2,y2` という形式で線分として与えられます。
ここで `x1,y1` が線分の一端の座標であり、 `x2,y2` がもう一方の端の座標です。
これらの線分は両端を含みます。言い換えると：

- `1,1 -> 1,3` という記述は、座標 1,1 1,2 1,3 を覆います。
- `9,7 -> 7,7` という記述は、座標 9,7 8,7 7,7 を覆います。

今のところ、**水平線と垂直線のみを考慮**してください。
それは x1 = x2またはy1 = y2のいずれかであるような線です。

したがって、上のリストの水平線と垂直線は、次の図を生成します。

```
.......1..
..1....1..
..1....1..
.......1..
.112111211
..........
..........
..........
..........
222111....
```

この図では、左上隅が0,0で、右下隅が9,9です。
各座標は、**その地点を覆う線の数**で示されています。
そのような線がない場合には `.` で示しています。
たとえば、左上のふたつの1の並びは `2,2 -> 2,1` から来ています。
一番下の行は、`0,9 -> 5,9` と `0,9 -> 2,9` という重なり合う線によって形成されています。

最も危険な領域を回避するには、**少なくとも2本の線が重なる地点の個数**を求める必要があります。
上の例では、これは図の中で2以上の全ての地点で、全部で5地点です。

水平線と垂直線のみを考慮してください。
**少なくとも2本の線が重なる地点はいくつありますか？**

# パート2 #

残念ながら、水平線と垂直線だけを考慮しても、全体像はわかりません。
対角線も考慮する必要があります。

熱水噴出孔マッピングシステムの制限により、リスト内の線は、
水平、垂直、またはちょうど45度の対角線のみになります。
言い換えると：

- `1,1 -> 3,3` という記述は、座標 1,1 2,2 3,3 を覆います。
- `9,7 -> 7,9` という記述は、座標 9,7 8,8 7,9 を覆います。

上の例のすべての線を考慮すると、次の図が生成されます。

```
1.1....11.
.111...2..
..2.1.111.
...1.2.2..
.112313211
...1.2....
..1...1...
.1.....1..
1.......1.
222111....
```

やはり、**少なくとも2本の線が重なる地点の個数**を求める必要があります。
上の例では、これは図の中で2以上の全ての地点で、全部で12地点です。

すべての線を考慮してください。
**少なくとも2本の線が重なる地点はいくつありますか？**
