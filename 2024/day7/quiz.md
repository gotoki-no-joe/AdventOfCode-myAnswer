# 7日目: 橋の修理

歴史学者たちは、ジャングルの真ん中にある川にかかるお馴染みの[吊り橋](../../2022/day9/quiz.md)へあなたを連れて行きます。
しかし、橋のこちら側には主任はいません。
もしかしたら、向こう側にいるのかもしれません。

橋を渡ろうとすると、修理しようとしているエンジニアの一団がいるのに気づきました。
（どうやら、わりと頻繁に壊れるようです。）
修理が終わるまで渡ることはできません。

あなたはどれくらいの時間がかかるか尋ねます。
エンジニアたちは、残っている作業は最終的な校正だけだと言いますが、
近くで遊んでいた若い象たちに校正方程式の演算子を全部盗まれていました！
校正を終わらせるには、
校正方程式（あなたのパズル入力）に何らかの演算子の組み合わせを当てはめることで
算出できる校正値がどれかを特定する必要があります。

例えば：

```
190: 10 19
3267: 81 40 27
83: 17 5
156: 15 6
7290: 6 8 6 15
161011: 16 10 13
192: 17 8 14
21037: 9 7 18 13
292: 11 6 16 20
```

各行はひとつの方程式を表しています。
校正値は各行のコロンの前にあります。
残りの数値に演算子と組み合わせて校正値を算出できるかどうかを判断するのがあなたの仕事です。

演算子は**常に左から右に**評価されます。優先順位の規則には**従いません**。
さらに、方程式内の数値は並べ替えてはいけません。
ジャングルをちらりと見ると、**足し算** $(+)$ と**掛け算** $(\times)$ の2種類の異なる演算子を持つ象が
見えました。（訳註：見分け付くかな…）

上記の方程式のうち、演算子を挿入することで真にできるのは3つだけです：

- `190: 10 19` には演算子の入る位置が1つだけあります：10と19の間です。
$+$ を選ぶと29になりますが、 $\times$ を選ぶと校正値 $(10 \times 19 = 190)$ になります。
- `3267: 81 40 27` には演算子の位置が2つあります。
演算子の4つの可能な構成のうち、**2つ**が右辺を校正値と一致させます：
（左から右に評価した場合） $81 + 40 \times 27$ と $81 \times 40 + 27$ はどちらも3267に等しいです！
- `292: 11 6 16 20` は正しくできる方法が1つだけあります： $11 + 6 \times 16 + 20$

エンジニアたちは、真である可能性のある方程式の校正値の合計である**総合校正結果**が必要です。
上記の例では、上記の3つの方程式の校正値の合計は3749です。

どの方程式が真である可能性があるかを判断してください。それらの総合校正結果はいくつですか？

# パート2

エンジニアたちの表情は不安げです。
あなたが彼らに与えた総合校正結果は、安全許容範囲内から完全に外れています。
ちょうどそのとき、あなたは自分の間違いに気づきました：
隠れるのが上手な象たちが3つめの種類の演算子を持っています。

連結演算子 $(‖)$ は、左側と右側から与えられた数値を単一の数に結合します。
例えば $12 ‖ 345$ は12345になります。
全ての演算子はやはり左から右に評価されます。

さて、加算と乗算だけを使用して真にできる3つの方程式に加えて、
上記の例には演算子を挿入することで真にできる方程式がもう3つあります：

- `156: 15 6` は連結ひとつで真にできます： $15 ‖ 6 = 156$
- `7290: 6 8 6 15` は $6 \times 8 ‖ 6 \times 15$ として真にできます。
- `192: 17 8 14` は $17 ‖ 8 + 14$ として真にできます。

6つ全ての校正値（ $+$ と $\times$ のみを用いて真にできた3つと、 $‖$ も使うことで新たに真にできる3つ）
を合計すると、新しい**総合校正結果は11387**になります。

あなたの新しい象の隠れんぼスポットの知識を使って、
どの方程式が真である可能性があるかを判断してください。
それらの総合校正結果はいくつですか？
