# 3日目：トボガンの軌跡 #

トボガンログインの問題が解決したので、空港に向けて出発しました。
トボガンによる旅行は簡単かもしれませんが、それは確かに安全ではありません。
舵はほとんど効かず、その一帯は木々に覆われています。
木に接近する回数が最も少ない角度を調べる必要があります。

この地域の地質により、この一帯の木はグリッド内の正確な整数座標でのみ成長します。
あなたは開いた正方形領域 `.` と木 `#` の地図（あなたのパズル入力）を作りました。
例えば：

~~~
..##.......
#...#...#..
.#....#..#.
..#.#...#.#
.#...##..#.
..#.##.....
.#.#.#....#
.#........#
#.##...#...
#...##....#
.#..#...#.#
~~~

ただし、木はこれだけではありません。
以前読んだことがある、樹木遺伝学と生物群系の安定性について書いてあるものによると、
同じパターンが何度も右に繰り返されるようです。

~~~
..##.........##.........##.........##.........##.........##.......  --->
#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..
.#....#..#..#....#..#..#....#..#..#....#..#..#....#..#..#....#..#.
..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#
.#...##..#..#...##..#..#...##..#..#...##..#..#...##..#..#...##..#.
..#.##.......#.##.......#.##.......#.##.......#.##.......#.##.....  --->
.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#
.#........#.#........#.#........#.#........#.#........#.#........#
#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...
#...##....##...##....##...##....##...##....##...##....##...##....#
.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#  --->
~~~

左上隅の開いた正方形領域(`.`)から出発して、一番下（マップの一番下の行の下）に到達する必要があります。

トボガンはいくつかの特定の傾斜をたどることしかできません。
（あなたの選んだ安いモデルは有理数を好みます。）
**右に3、下に1**の斜面で遭遇する**すべての木を数える**ことから始めましょう。

左上の開始位置から、右に3下に1の位置を調べます。
次にそこから右に3下に1の位置を調べ、同様にマップの最下行を超えるまで続けます。

上記の例で確認する場所は、開いた正方形領域を`O`、木があった場所を`X`で記します。

~~~
..##.........##.........##.........##.........##.........##.......  --->
#..O#...#..#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..
.#....X..#..#....#..#..#....#..#..#....#..#..#....#..#..#....#..#.
..#.#...#O#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#
.#...##..#..X...##..#..#...##..#..#...##..#..#...##..#..#...##..#.
..#.##.......#.X#.......#.##.......#.##.......#.##.......#.##.....  --->
.#.#.#....#.#.#.#.O..#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#
.#........#.#........X.#........#.#........#.#........#.#........#
#.##...#...#.##...#...#.X#...#...#.##...#...#.##...#...#.##...#...
#...##....##...##....##...#X....##...##....##...##....##...##....#
.#..#...#.#.#..#...#.#.#..#...X.#.#..#...#.#.#..#...#.#.#..#...#.#  --->
~~~

この例では、この傾斜を使用して地図を横断すると、7つの木に遭遇します。

マップの左上隅から出発し、右に3下に1の傾斜をたどると、何本の木に遭遇しますか？

# パート2 #

今度は残りの傾斜を調べましょう。
結局のところ、いきなり木に衝突して止まる可能性を最小限に抑える必要があります。

次の各傾斜について、左上隅から出発し、マップを一番下まで横断した場合に遭遇する木の数を求めます。

- 右に1、下に1。
- 右に3、下に1（これはすでに調べたした傾斜です。）
- 右に5、下に1。
- 右に7、下に1。
- 右に1、下に2。

上記の例では、これらの傾斜はそれぞれ2, 7, 3, 4, 2本の木を見つけます。
これらを掛け合わせると、得られる答えは336です。

列挙した各斜面で遭遇する木の数を掛け合わせると、いくつになりますか？
