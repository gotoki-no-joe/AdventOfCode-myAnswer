# 12日目：雨のリスク #

あなたのフェリーは島に向かってかなり進みましたが、嵐は誰も予想しなかった早さでやって来ました。
フェリーは**回避行動**を取る必要があります！

残念ながら、船のナビゲーションコンピュータは誤動作しているようです。
安全への直接のルートを与えるのではなく、それは非常に遠回りな指示を生み出しました。
船長が船内放送で手助けを求めると、あなたはすぐに志願します。

ナビゲーション命令（パズル入力）は、
単一文字の**アクション**と整数入力**値**との対の列です。
それらを数分間見つめた後、あなたはそれらがおそらく何を意味するのかを理解します：

- アクション`N`は、指定された値だけ**北**に移動することを意味します。
- アクション`S`は、指定された値だけ**南**に移動することを意味します。
- アクション`E`は、指定された値だけ**東**に移動することを意味します。
- アクション`W`は、指定された値だけ**西**に移動することを意味します。
- アクション`L`は、指定された度数だけ**左**に旋回することを意味します。
- アクション`R`は、指定された度数だけ**右**に旋回することを意味します。
- アクション`F`は、船が現在向いている方向に、指定された値だけ**前進**することを意味します。

船は**東**向きから始まります。
アクション`L`と`R`だけが船の向きを変えます。
（つまり、船が東を向いていて、次の命令が`N10`である場合、
船は北に10単位移動しますが、次のアクションが`F`であった場合はやはり東に移動します。）

例えば：

```
F10
N3
F7
R90
F11
```

これらの命令は次のように処理されます。

- `F10`は船を東に10単位移動させ（船は東を向いて開始するため）、**東10北0**に至ります。
- `N3`は船を北に3単位移動させ、**東10北3**に至ります。
- `F7`は船をさらに7単位東に移動させ（船はまだ東を向いているため）、**東17北3**に至ります。
- `R90`は船は90度右に回し、**南**向きにします。位置は**東17北3**のままです。
- `F11`は船を南に11単位移動させ、**東17南8**に至ります。

これらの指示を終えた後、船の開始位置からのマンハッタン距離
（東西の位置と南北の位置の絶対値の合計）は17 + 8 = 25です。

ナビゲーションの指示がどこに導くかを把握します。
**その場所と船の開始位置の間のマンハッタンの距離はどれだけですか？**

# パート2 #

あなたは船長に目的地を伝えようとしたところで、
アクションの実際の意味が指示の裏にとっくに印刷されていたことに気づきました。

ほとんどすべてのアクションは、船の位置に相対的に目標点を移動させ方法を示しています。

- アクション`N`は、指定された値だけ目標点を**北**に移動することを意味します。
- アクション`S`は、指定された値だけ目標点を**南**に移動することを意味します。
- アクション`E`は、指定された値だけ目標点を**東**に移動することを意味します。
- アクション`W`は、指定された値だけ目標点を**西**に移動することを意味します。
- アクション`L`は、目標点を**左（反時計回り）**に指定された角度だけ船を中心に回転させることを意味します。
- アクション`R`は、目標点を**右（時計回り）**指定された度数だけ船を中心に回転させることを意味します。
- アクション`F`は、指定された値に等しい回数だけ目標点の位置へ進むことを意味します。

目標点は、船に対して東に10単位、北に1単位の位置で開始します。
目標点は船を基準にしています。つまり、船が移動すると、目標点も一緒に移動します。

たとえば、上記と同じ手順を使用すると、

- `F10`は船を目標点に10回移動させ（合計で東に100単位、北に10単位）、船は**東100北10**に至ります。
目標点は船の東10北1の位置に留まります。
- `N3`は目標点を北に3単位移動させ、**船から東10北4**に至ります。船は**東100北10**のままです。
- `F7`は船を目標点に7回移動させ（合計で東に70単位、北に28単位）、船は**東170北38**に至ります。
目標点は船の東10北4の位置に留まります。
- `R90`は目標点を船の周りを時計回りに90度回転させ、目標点は**船の東4南10**に移動します。
船は**東170北38**のままです。
- `F11`は船を目標点に11回移動させ（合計で東に44単位、南に110単位）、船は**東214南72**に至ります。
目標点は船の東4南10に留まります。

これらの操作の後、開始位置からの船のマンハッタン距離は214 + 72=286です。

ナビゲーションの本当の指示がどこに導くかを把握します。
**その場所と船の開始位置の間のマンハッタンの距離はどれだけですか？**
