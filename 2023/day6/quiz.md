# 6日目: お待ちください

渡し船で島之島をすぐに横断できます。
周りに尋ねてみると、確かに通常はこの近くのどこかに大きな砂の山がありますが、
たくさんの水と渡し船が停泊している小さな島以外には何も見えないことがわかりました。

次に何をすべきかを考えていると、渡し船乗り場の近くの壁にポスターが貼られていることに気づきました。
「ボートレース！一般公開！優勝賞品は全額負担の**砂漠之島**旅行！」(普通desert islandは無人島のこと)
砂はそこから来るに違いありません！何よりも、ボートレースはあと数分で始まります。

あなたはぎりぎりでボートレースの出場者として登録することができました。
主催者の説明によると、このレースは実際には伝統的なレースではなく、
一定の時間内にボートをできるだけ遠くまで移動させ、最も遠くまでボートを進めば勝ちです。

参加手続きの一環として、各レースの持ち**時間**と、
そのレースで記録された最高**距離**が記載された紙（あなたのパズル入力）を受け取ります。
確実にグランプリを獲得するには、各レースで現在の記録保持者よりも遠くまで到達する必要があります。

主催者がボートレース開催エリアまでご案内します。
ボートは予想よりもはるかに小さく、実際は**おもちゃのボート**で、それぞれ上部に大きなボタンが付いています。
ボタンを押し続けると**ボートが充電**され、ボタンを放すと**ボートが前進**します。
ボタンを長く押し続けるとボートはより速く動きますが、ボタンを押している時間は総レース時間にカウントされます。
ボタンを押し続けることができるのはレースの開始時だけであり、ボタンを放すまでボートは動きません。

例えば：

```
Time:      7  15   30
Distance:  9  40  200
```

この文書は3つのレースについて説明します。

- 最初のレースは 7 ミリ秒続きます。このレースの記録距離は9ミリ。
- 2 番目のレースは 15 ミリ秒続きます。このレースの記録距離は40ミリ。
- 3 番目のレースは 30 ミリ秒続きます。このレースの記録距離は200ミリ。

おもちゃのボートの開始速度は**0ミリメートル毎ミリ秒**です。
レースの開始時にボタンを押し続けると、**1ミリ秒ごとに**ボートの速度が**1ミリメートル毎ミリ秒**ずつ増加します。

したがって、最初のレースは7ミリ秒で終わるため、選択肢はいくつかしかありません。

- レースの開始時に、ボタンをまったく押し続けない（つまり、0数ミリ秒間押し続ける）。
ボートは動かない。レース終わりまでに**0ミリメートル**移動する。
- レースの開始時にボタンを**1ミリ秒間**押し続けます。
その後、ボートは1ミリ秒あたり1ミリメートルの速度で6ミリ秒間移動し、総移動距離は**6ミリメートル**に達します。
- ボタンを**2ミリ秒間**押し続けると、ボートの速度が2ミリメートル毎ミリ秒になります。
その後、移動に5ミリ秒かけて、合計距離は**10ミリメートル**に達します。
- ボタンを**3ミリ秒間**押し続けます。残り4ミリ秒の移動時間が経過すると、ボートは**12ミリメートル**進みます。
- ボタンを**4ミリ秒間**押し続けます。残り3ミリ秒の移動時間が経過すると、ボートは**12ミリメートル**進みます。
- ボタンを**5ミリ秒間**押し続けると、ボートが合計**10ミリメートル**移動します。
- ボタンを**6ミリ秒間**押し続けると、ボートが合計**6ミリメートル**移動します。
- ボタンを**7ミリ秒間**押し続けます。それがレースの全期間です。ボタンを放さずにいます。
ボタンを放さないとボートは動きません。ボートが動き出すように必ずボタンを放してください。**0ミリメートル**。

このレースの現在の記録は9ミリメートルであるため、実際のところ**4**通りの異なる方法で勝つことができます。
レースの開始時にボタンを2, 3, 4, 5ミリ秒間押し続けることができます。

2番目のレースでは、ボタンを少なくとも4ミリ秒、最長で11ミリ秒押し続けることで記録を破ることができ、
**8**通りの方法で勝つことができます。

3番目のレースでは、ボタンを11ミリ秒以上、19ミリ秒以内押し続けることで記録を更新でき、
全部で**9**通りの方法があります。

どれだけの失敗のマージンがあるかを確認するには、各レースで**記録を破る方法の数**を求めます。
この例では、これらの値を乗算すると**288** $(4 \times  8 \times 9)$ が得られます。

各レースで記録を破る方法の数を調べてください。
**これらの数字を掛け合わせるといくつになりますか？**

# パート2

レースが始まろうとしているとき、先ほど取得したレースタイムと記録距離が記載された紙が、
実はカーニングが非常に悪いことに気づきました。
実際には**レースは1つだけ**です。
各行の数字の間のスペースは無視してください。

したがって、先ほどの例：

```
Time:      7  15   30
Distance:  9  40  200
```

は今や次のことを意味します:

```
Time:      71530
Distance:  940200
```

さて、この1つだけのレースに勝つ方法が何通りあるかを考え出す必要があります。
この例では、レースは**71530ミリ秒間**続き、破る必要がある記録距離は**940200ミリメートル**です。
ボタンを14ミリ秒から71516ミリ秒の間の任意のどこかまで押し続けると、記録を破ることができます。
全部で**71503**通りの方法があります！

**この単一のずっと長いレースで、記録を破る方法は何通りあるでしょうか？**
