# 11日目: 宇宙の膨張

「温泉」の標識に従って進んでいくと、やがて天文台が見えてきます。
中の妖精は、ここの巨大望遠鏡を使って宇宙の膨張を研究している研究者であることが判明しました。

彼は失われた機械部品について何も知りません。彼はこの研究プロジェクトのためだけに来ています。
しかし、彼は温泉が次に人がいる可能性が高いエリアであることを認めています。
今日の観測分析が終わったら、すぐにそこへ連れて行ってくれます。

作業をスピードアップするために、彼の分析を手伝ってもらえませんか？

研究者は大量のデータを収集し、そのデータを1つの巨大な**画像**（あなたのパズル入力）にまとめました。
画像には**虚無空間** (`.`) と**銀河** (`#`) が含まれています。例えば：

```
...#......
.......#..
#.........
..........
......#...
.#........
.........#
..........
.......#..
#...#.....
```

研究者は、**全ての銀河のペア間の最短経路**の長さの合計を計算しようとしています。
ただし、落とし穴があります。これらの銀河からの光が天文台に届くまでに、宇宙は膨張したのです。

重力の影響により、**一部の空間のみが膨張します**。
実際、その結果、**銀河を含まない行または列**は全て実際には2倍の大きさになるはずです。

上の例では、3つの列と2つの行に銀河が含まれていません。

```
   v  v  v
 ...#......
 .......#..
 #.........
>..........<
 ......#...
 .#........
 .........#
>..........<
 .......#..
 #...#.....
   ^  ^  ^
```

これらの行と列は**2倍の大きさ**にする必要があります。したがって、宇宙膨張の結果は次のようになります。

```
....#........
.........#...
#............
.............
.............
........#....
.#...........
............#
.............
.............
.........#...
#....#.......
```

この膨張された宇宙が用意できれば、全ての銀河間の最短経路を見つけることができます。
全ての銀河に一意の番号を割り当てると役立ちます。

```
....1........
.........2...
3............
.............
.............
........4....
.5...........
............6
.............
.............
.........7...
8....9.......
```

これら9つの銀河の間には36個のペアがあります。各ペアを1回だけ考えます。ペア内の順序は関係ありません。
各ペアについて、`.`または`#`を一度にちょうど1つずつ、上下左右に移動するステップのみを使用して、2 つの銀河間の最短経路を見つけます。
（2つの銀河間の最短経路は、別の銀河を通過することが許されます。）

たとえば、以下は銀河5と銀河9の間の最短経路の1つです：

```
....1........
.........2...
3............
.............
.............
........4....
.5...........
.##.........6
..##.........
...##........
....##...7...
8....9.......
```

この経路は長さ9です。なぜなら、銀河5から銀河9へ行くには少なくとも**9ステップ**
（`#`の印された8つの場所と銀河9そのものへのステップ）が必要だからです。
以下に、最短パス長の他の例をいくつか示します。

- 銀河1と銀河7の間： 15
- 銀河3と銀河6の間： 17
- 銀河8と銀河9の間： 5

この例では、宇宙を拡大した後、全36組の銀河間の最短経路の合計は**374**になります。

宇宙を膨張させし、すべての銀河のペア間の最短経路の長さを見つけます。これらの長さの合計はいくらですか?

# パート2

これらの銀河は、研究者が当初推定したよりもはるかに**古い**（したがって、**はるかに離れている**）ことがわかりました。

そこで、前に行った膨張の代わりに、空の行または列をそれぞれ**100万倍**に拡大します。
つまり、それぞれの空行は1,000,000の空行に置き換えられ、個々の空列は1,000,000の空列に置き換えられる必要があります。

（前の例で、もし各空行または列がたった10倍大きい場合、全ての銀河ペア間の最短経路の合計は**1030**になります。
各空行または列がたった100倍大きい場合、各銀河間の最短経路の合計は**8410**になります。
ただし、あなたの宇宙はこれらの値をはるかに超えて膨張する必要があります。）

同じ初期画像から始めて、これらの新しいルールに従って宇宙を膨張し、全ての銀河のペア間の最短経路の長さを見つけます。
**これらの長さの合計はいくらですか？**
