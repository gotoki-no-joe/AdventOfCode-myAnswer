# 4日目: スクラッチカード

ゴンドラがあなたを運び上げていきます。
しかし不思議なことに、地面はあなたと一緒に来ているようには見えません。あなたは山に登っていません。
雪之島の輪(? circle)が眼下に遠ざかっていくと、突然、まったく新しい大陸が頭上に現れます！
ゴンドラはあなたを新しい島の表面まで運び、駅に向かって進みます。

ゴンドラを降りると、まず空気が雪之島**よりも暖かい**ことに気づきます。
**湿気**もかなり多いです。
ここが水源なのかな？

次に気づくのは、駅の向かい側の床にカラフルな四角いカードの山のようなものに埋もれている(を着て座っている?)妖精です。

「あ、こんにちは！」妖精は興奮してあなたに駆け寄ります。
「どうすれば役に立てるでしょうか？」あなたは水源について尋ねます。

「よくわかりません。私はただゴンドラリフトを操作しているだけです。
でも、それは私たちにありそうな気がしますが、ここは**島之島**ですからね！(???)
**庭師**ならきっと知っているでしょう。
違う島にいるのですが……えーっと、水に囲まれた小さな何かで、浮いているものではなくて。
私たちは本当に、より良い命名法を考え出す必要があります。

教えてください: (??tell you what:)
何か手早く手伝ってくれるなら、私の**ボートを貸してあげるので**、庭師を訪ねてください。
これらのスクラッチカードを全てプレゼントとしてもらいましたが、何が当たったのかわかりません。」

妖精はあなたをカラフルなカードの山まで連れて行きます。
そこで、不透明な覆いが既に剥がされた数十枚のスクラッチカードを発見します。
1枚を手に取ると、各カードには縦棒(`|`)で区切られた2つの数のリストがあるようです。
ひとつは**当選番号**のリスト、もうひとつは**自分が持っている番号**のリストです。
情報を表（パズルの入力）に整理します。

妖精が理解できる限り(figure out)、自分の持ち番号で**当選番号**のリストに現れているものを把握する必要があります。
(? figure out)

最初の一致でカードの価値は**1ポイント**になり、
以降の各一致でそのカードのポイント値が**2倍**になります。

例えば：

```
Card 1: 41 48 83 86 17 | 83 86  6 31 17  9 48 53
Card 2: 13 32 20 16 61 | 61 30 68 82 17 32 24 19
Card 3:  1 21 53 59 44 | 69 82 63 72 16 21 14  1
Card 4: 41 92 73 84 69 | 59 84 76 51 58  5 54 83
Card 5: 87 83 26 28 32 | 88 30 70 12 93 22 82 36
Card 6: 31 18 13 56 72 | 74 77 10 23 35 67 36 11
```

上の例では、カード1には5つの当選番号 (41, 48,83, 86, 17) があり、
あなたの持っている8つの番号 (83, 86, 6, 31, 17, 9, 48, 53)があります。
あなたが持っている番号のうち4つ (48, 83, 17, 86) が当選番号です！
つまりカード 1 には8ポイントの価値があります
（最初の一致で1ポイント、その後の3つの一致で3度2倍します）。

- カード2には2つの当選番号 (32, 61) があるため、2ポイントの価値があります。
- カード3には2つの当選番号 (1, 21) があるため、2ポイントの価値があります。
- カード4には当選番号が1つ (84) あるため、1ポイントになります。
- カード5には当選番号がないため、ポイントの価値はありません。
- カード6には当選番号がないため、ポイントの価値はありません。

よってこの例では、妖精のスクラッチカードの山は13ポイントの価値があります。

色とりどりのカードが大量に積まれた場所に座りましょう。
**それらは合計何ポイントの価値がありますか？**
(worth 相当する、もあるらしい。)

# パート2

あなたが結果を妖精に報告しようとしているとき、あなたの一人(one of you?)が、
ルールが実際にはずっと全てのカードの裏に印刷されていたことに気づきました。

「ポイント」などというものはありません。
そうでなく、スクラッチカードを使用すると、
当選番号の個数と同じ枚数の**新たなスクラッチカードを獲得**できるだけです。

具体的には、当選カードの下にある、一致した番号の個数と同じ枚数のスクラッチカードの**コピー**を獲得します。
したがって、カード10に一致する番号が5つある場合、カード11, 12, 13, 14, 15のコピーを1枚ずつ獲得することになります。

スクラッチカードのコピーは通常のスクラッチカードと同様に評価され、
コピー元のカードと**同じカード番号**が付けられます。
したがって、カード10のコピーを獲得し、そこに一致する番号が5つある場合、
元のカード10が獲得するのと同じカード（カード11, 12, 13, 14, 15）のコピーを獲得することになります。
この手続きは、どのコピーもそれ以上のカードを獲得することがなくなるまで繰り返されます。
（カードを使用しても、表の終わりを超えてカードをコピーすることはできません。）

今回、上記の例は異なる動きをします：

```
Card 1: 41 48 83 86 17 | 83 86  6 31 17  9 48 53
Card 2: 13 32 20 16 61 | 61 30 68 82 17 32 24 19
Card 3:  1 21 53 59 44 | 69 82 63 72 16 21 14  1
Card 4: 41 92 73 84 69 | 59 84 76 51 58  5 54 83
Card 5: 87 83 26 28 32 | 88 30 70 12 93 22 82 36
Card 6: 31 18 13 56 72 | 74 77 10 23 35 67 36 11
```

- カード1には一致する番号が4つあるため、続く4枚のカード（カード2, 3, 4, 5）のコピーをそれぞれ 1 枚ずつ獲得します。
- オリジナルのカード2には一致する番号が2つあるため、カード3と4のコピーを1枚ずつ獲得します。
- あなたの持つカード2のコピーも、カード3と4のコピーを1枚ずつ獲得します。
- あなたの持つカード3の4つのインスタンス（オリジナル1枚とコピー3枚）には一致する番号が2つあるため、
カード4と5のコピーをそれぞれ**4枚**獲得します。
- カード4の8つのインスタンス（オリジナル1枚とコピー7枚）には一致する番号が1つあるため、カード5のコピーを**8枚**獲得します。
- カード5の14枚のインスタンス（オリジナル1枚とコピー13枚）には一致する番号がなく、カードを獲得することはできません。
- カード6の1つのインスタンス（オリジナルの1枚）には一致する番号がなく、カードは獲得できません。

全てのオリジナルとコピーが処理されると、カード1のインスタンス1枚、カード2のインスタンス2枚、カード3のインスタンス4枚、カード4のインスタンス8枚、カード5のインスタンス14枚、カード6のインスタンス1枚が最終的に残ります。
合計すると、この例のスクラッチカードの山により、最終的には**30枚**のスクラッチカードが手に入ります。

スクラッチカードが獲得されなくなるまで、オリジナルとコピーのスクラッチカードを全て処理します。
元のスクラッチカードのセットを含めて、**最終的にスクラッチカードは合計何枚になりますか？**
