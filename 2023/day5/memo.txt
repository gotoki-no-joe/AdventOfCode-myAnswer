part1と同じ方法でやろうとすると、範囲が大きすぎて、計算に時間がかかりすぎる。

逆方向に計算して、小さい値から順にseedを探すのもナニだ。

一つの値に対して計算するのでなく、区間群に対して区間群を割り当てる、
MEXのアレみたいなものを作れという感じ？

重複の除去をしない手抜きバージョンでなら、わりかし楽にできるかしら？

そもそもIntMapでなく、キーでソートしただけのリストで付き合わせればいい。

いや違う。
関数を逆向きの多値関数にして、最終的に元に戻った値で、domainに当たっているものが一つでもあるか判定する。

これを二分探索でする、とおもったけど、範囲でどうこうとはならないから、線形探索しかできないなぁ。
