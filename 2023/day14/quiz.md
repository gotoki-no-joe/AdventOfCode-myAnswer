# 14 日目: パラボラ反射板

あなたはすべての鏡が向いていた場所、つまり別の大きな山の側面に取り付けられた巨大なパラボラ反射板に到達します。

この反射板は多数の小さな鏡で構成されていますが、鏡全体は大まかにパラボラ型の反射板皿の形をしているものの、
個々の鏡は少しずつ間違った方向を向いているように見えます。
反射板が光を集中させることを目的としている場合、現時点では漠然とした方向に光を送っているだけです。

このシステムが溶岩にエネルギーを供給しているに違いありません！
反射板の焦点を合わせられれば、反射板が向いている場所に行き、光を使って溶岩の生成を修正できるかもしれません。

よく観察すると、個々の鏡はそれぞれ、ロープと滑車の精巧なシステムを介して皿の下の大きな金属製の台に接続されているように見えます。
台はさまざまな形の大きな岩で覆われています。
岩の位置に応じて、岩の重みによって台が変形し、台の形状により動かすロープが制御され、そして最終的には皿の焦点が決まります。

つまり、岩を動かせば反射板の焦点を合わせることができるのです。
台の側面には制御盤があり、4方向のいずれかに**傾ける**ことができます！
丸い岩 (`O`) は台を傾けると転がりますが、四角い岩 (`#`) はその場に留まります。
全ての空きスペース (`.`) と岩の位置をメモします。（あなたのパズル入力）
例えば：

```
O....#....
O.OO#....#
.....##...
OO.#O....O
.O.....O#.
O.#..O.#.#
..O..#O..O
.......O..
#....###..
#OO..#....
```

まずレバーを傾けて、全ての岩を**北**に最後までスライドさせます。

```
OOOO.#.O..
OO..#....#
OO..O##..O
O..#.OO...
........#.
..#....#.#
..O..#.O.O
..O.......
#....###..
#....#....
```

台の北側にある支持梁が**損傷**していることに気づきました。
台が崩壊しないようにするには、北側の支持梁にかかる**総荷重**を計算する必要があります。

一つの丸い岩 (`O`) によって生じる荷重は、岩が置かれている行を含む、岩から台の南端までの行の数に等しくなります。
（四角い岩 (`#`) は荷重に寄与しません。）
したがって、各行の各岩によって生じる荷重の量は次のようになります。
（訳注：その行にある一つ一つの `O` につき、右の値の荷重がかかる、という意味）

```
OOOO.#.O.. 10
OO..#....#  9
OO..O##..O  8
O..#.OO...  7
........#.  6
..#....#.#  5
..O..#.O.O  4
..O.......  3
#....###..  2
#....#....  1
```

総荷重は、全ての**丸い岩**によって引き起こされる荷重の合計です。
この例では、総荷重は**136**です。

丸い岩が全て北に転がるように台を傾けます。
その後、**北側の支持梁にかかる総荷重はいくらになるでしょうか？**

# パート2

パラボラ反射鏡は変形しますが、ビームを集束させるような形にはなりません。
そのためには、岩を台の端に移動する必要があります。
幸いなことに、操作盤の側面にある「一周回す」というラベルのボタンがそれをするもののようです！

**一周**とは台を4回傾け、丸い岩が**北**、**西**、**南**、**東**と順に転がるようにします。
傾けるたびに、丸い岩はできる限り転がります。その後で台は次の方向に傾きます。
一周させると、台は丸い石を4つの方向にこの順で転がし終えます。

上記の例では、最初の数周のそれぞれの後にどのようになっているかを示します：

```
一周の後：
.....#....
....#...O#
...OO##...
.OO#......
.....OOO#.
.O#...O#.#
....O#....
......OOOO
#...O###..
#..OO#....

二周の後：
.....#....
....#...O#
.....##...
..O#......
.....OOO#.
.O#...O#.#
....O#...O
.......OOO
#..OO###..
#.OOO#...O

三周の後：
.....#....
....#...O#
.....##...
..O#......
.....OOO#.
.O#...O#.#
....O#...O
.......OOO
#...O###.O
#.OOO#...O
```

このプロセスを十分な時間実行し続ければ岩を端に寄せられると思われますが、北側の支持梁がまだ心配です。
しばらくの間耐えられることを確認するには、
1,000,000,000周だけ回した後に北側の支持梁にかかる**総荷重**を計算する必要があります。

上記の例では、1,000,000,000周の後、北側の支持梁にかかる合計荷重は**64**になります。

1,000,000,000周だけ回します。
その後、**北側の支持梁にかかる総荷重はいくらですか？**
